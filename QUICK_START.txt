â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        DELIVERY MANAGEMENT - QUICK START GUIDE               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ SETUP (One-time)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Windows:
  > setup-delivery.bat

Linux/Mac:
  $ chmod +x setup-delivery.sh
  $ ./setup-delivery.sh

OR Manually:
  $ psql -U postgres -d cyclesync -f backend/modules/delivery/postgres_schema.sql


ğŸš€ START SERVICES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Terminal 1 - Backend:
  $ cd backend
  $ bal run
  âœ“ Delivery API on port 9091

Terminal 2 - Frontend:
  $ cd frontend
  $ npm run dev
  âœ“ Frontend on port 3000


ğŸ” TEST PAGES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Buyer Orders:     http://localhost:3000/buyer/orders-with-delivery
Supplier Orders:  http://localhost:3000/supplier/orders
Test Page:        http://localhost:3000/test-delivery


ğŸ“‹ SAMPLE DATA
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Order IDs in Database:

  ord-2024-001
    Status: In Transit
    Driver: Rajesh Kumar (+91 98765 00001)
    Vehicle: MH-12-AB-1234
    Location: Pune Distribution Center

  ord-2024-002
    Status: Delivered
    Driver: Amit Sharma (+91 98765 00002)
    Vehicle: DL-10-CD-5678
    Delivered: 3 days ago

  ord-2024-003
    Status: Delivered
    Driver: Suresh Patel (+91 98765 00003)
    Vehicle: KA-01-EF-9012
    Delivered: 1 day ago


ğŸ§ª HOW TO TEST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. BUYER VIEW:
   â†’ Go to: http://localhost:3000/buyer/orders-with-delivery
   â†’ See orders with real-time delivery tracking
   â†’ Click "Track Order" to see full timeline

2. SUPPLIER UPDATE:
   â†’ Go to: http://localhost:3000/supplier/orders
   â†’ Click any order â†’ "Delivery Tracking" tab
   â†’ Update status (e.g., "Out for Delivery")
   â†’ Fill location and description
   â†’ Click "Update Status"

3. SEE CHANGES IN BUYER:
   â†’ Refresh buyer page
   â†’ See updated status immediately!


ğŸ“¡ API ENDPOINTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Base URL: http://localhost:9091/delivery

GET    /health                      - Health check
GET    /{orderId}                   - Get delivery
PATCH  /{orderId}/status            - Update status
POST   /create                      - Create delivery
GET    /supplier/{supplierId}       - Get all supplier deliveries


ğŸ”„ UPDATE STATUS (CURL)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

curl -X PATCH http://localhost:9091/delivery/ord-2024-001/status \
  -H "Content-Type: application/json" \
  -d '{
    "status": "out_for_delivery",
    "location": "Near Customer Location",
    "description": "Driver is 10 minutes away",
    "updatedBy": "driver"
  }'


âœ¨ FEATURES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ Real-time delivery tracking
âœ“ 8 delivery statuses (pending â†’ delivered)
âœ“ Driver & vehicle information
âœ“ Location tracking
âœ“ Complete timeline history
âœ“ Supplier can update status
âœ“ Buyer sees changes immediately
âœ“ No hardcoded data - all from PostgreSQL!


ğŸ¯ WORKFLOW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Order created â†’ Delivery tracking initialized
2. Supplier updates: "Pickup Scheduled"
3. Supplier updates: "Picked Up"
4. Supplier updates: "In Transit"
5. Supplier updates: "Out for Delivery"
6. Supplier updates: "Delivered"
7. Buyer sees each update in real-time!


ğŸ“‚ KEY FILES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Database Schema:
  backend/modules/delivery/postgres_schema.sql

Backend Service:
  backend/modules/delivery/delivery_service.bal
  backend/modules/delivery/delivery_controller.bal

Frontend Components:
  frontend/src/components/delivery/DeliveryTracker.tsx
  frontend/src/components/supplier/DeliveryStatusManager.tsx
  frontend/src/components/buyer/OrderCardWithDelivery.tsx

API Services:
  frontend/src/services/deliveryService.ts
  frontend/src/hooks/useDelivery.ts

Test Pages:
  frontend/src/app/test-delivery/page.tsx
  frontend/src/app/buyer/orders-with-delivery/page.tsx


ğŸ†˜ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Backend won't start:
  â†’ Check port 9091 is free
  â†’ Verify PostgreSQL is running
  â†’ Check Config.toml credentials

No data showing:
  â†’ Run setup script again
  â†’ Check: SELECT * FROM delivery_tracking;
  â†’ Verify API: curl http://localhost:9091/delivery/health

CORS errors:
  â†’ Backend CORS is configured for localhost:3000
  â†’ Check delivery_controller.bal

Status update fails:
  â†’ Check browser console for errors
  â†’ Verify order ID exists in database
  â†’ Check API response


ğŸ“ READY TO GO!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Your delivery management system is ready!

Supplier can update â†’ Buyer sees changes â†’ All data from PostgreSQL

No more hardcoded values! ğŸ‰
